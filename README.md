# **Консольный справочник: запрос и получение определений по термину**

**Консольный справочник для учёбы** — это сервис, призванный помочь студентам и всем желающим оперативно получать достоверную справочную информацию по учебным терминам, датам или определениям. Проект демонстрирует интеграцию с внешними API, работу с HTTP-запросами и эффективную обработку данных в формате JSON.

**Цель**

Главная учебная цель проекта — освоить навыки создания информационного помощника, научиться применять Python для решения реальных задач, а также наработать опыт интеграции с внешними API, обработки HTTP-ответов и структурирования кода.

**Основные задачи проекта**

  * Реализовать консольное приложение для получения справочной информации по заданному термину.
  * Интегрировать приложение с внешними справочными API (обязательно с Wikipedia API*, опционально с другими). (*«Википедия» запрещена на территории РФ.)
  * Обеспечить надёжную обработку ошибок, связанных с сетью, некорректными ответами API и отсутствием результатов.
  * Поддержать поиск и отображение определений на русском и английском языках.
  * Вынести логику работы с API в отдельный модуль, обеспечив чистый CLI-интерфейс.
  * Подготовить документацию по проекту (`README.md`).

**Исходные данные и источники**

  * **Публичные API:**
      * **Wikipedia API:**
          * базовый URL: `https://{lang}.wikipedia.org/w/api.php`;
          * параметры запроса для получения краткого содержания (summary):
            `action=query`, `format=json`, `prop=extracts`, `exintro=True`, `explaintext=True`, `redirects=1`, `titles=<term>`;
          * пример запроса (русский язык, термин «Интеграл»): `https://ru.wikipedia.org/w/api.php?action=query&format=json&prop=extracts&exintro=True&explaintext=True&redirects=1&titles=Интеграл`;
          * пример запроса (английский язык, термин «Euler»): `https://en.wikipedia.org/w/api.php?action=query&format=json&prop=extracts&exintro=True&explaintext=True&redirects=1&titles=Euler`;
          * документация: [https://www.mediawiki.org/wiki/API:Main\_page](https://www.mediawiki.org/wiki/API:Main_page).
      * **(опционально) Dictionary API (Free Dictionary API):**
          * базовый URL: `https://api.dictionaryapi.dev/api/v2/entries/{lang}/{word}`;
          * пример запроса (английский язык, слово «apple»): `https://api.dictionaryapi.dev/api/v2/entries/en/apple`;
          * документация: [https://dictionaryapi.dev/](https://dictionaryapi.dev/).
   

# **Формат сдачи проекта**

Чтобы проверяющий принял и смог оценивать проект, предоставь публичный репозиторий в GitLab с тэгом `v1.0`.

**Структура проекта**

```
project_root/
├── smart_handbook        # Исходный код сервиса
│   ├── __init__.py
│   ├── api_clients       # Модуль для работы с API
│   │   ├── __init__.py
│   │   └── wikipedia_client.py
│   └── cli               # Модуль для консольного интерфейса
│       ├── __init__.py
│       └── main.py
├── README.md             # Инструкция запуска и описание API
└── requirements.txt      # Зависимости проекта
```
  - **`README.md`**

    Подготовь краткое описание проекта, системные требования, команды локального запуска и примеры использования.

> Должно быть достаточно трёх команд, чтобы поднять проект локально: создание виртуального окружения, установка зависимостей, запуск приложения.

## Условия проекта

Разработать консольное приложение на Python для получения кратких определений/описаний по заданному пользователем термину с использованием внешних API, с акцентом на надёжность и чистоту кода.

**Функциональные требования**

  * Приложение запускается из командной строки.
  * Принимает один аргумент — термин для поиска.
  * Осуществляет GET-запрос к Wikipedia API (обязательно) для получения краткой справки по термину.
  * Парсит JSON-ответ от API.
  * Извлекает краткое определение/описание.
  * Отображает полученное определение в консоль.
  * При отсутствии результата выводит сообщение «Определение по запросу '{термин}' на языке '{выбранный язык}' не найдено».
  * При сетевых ошибках или недоступности API выводит сообщение «Ошибка сети/сервиса: не удалось подключиться к сервису. Проверьте ваше интернет-соединение».
  * При ошибках обработки результата выводит сообщение «Ошибка обработки данных: некорректный или неожиданный формат ответа от Wikipedia: {текст ошибки}».
  * При обработке неожиданных ошибок выводит: «Произошла непредвиденная ошибка: {текст ошибки}».
  * Поддерживает поиск на русском и английском языках (пользователь может указать язык или язык определяется автоматически / по умолчанию).

**Нефункциональные требования**

  * **Код соответствует PEP8**, включает **аннотации типов** и **docstring** для каждой функции.
  * Логика работы с API (запросы, парсинг ответов) полностью вынесена в отдельный модуль/файл (`smart_handbook/api_clients/wikipedia_client.py`).
  * Интерфейс пользователя (ввод/вывод в консоль) реализован в отдельном файле (`smart_handbook/cli/main.py`).
  * Не используются «тяжёлые» сторонние библиотеки (разрешены `requests` и стандартные библиотеки Python).
  * Чистый CLI-интерфейс без избыточных информационных сообщений.

**Входные данные**

  * **Формат:** строка-термин, вводится как аргумент командной строки.
  * **Пример:**
      * `python -m smart_handbook.cli.main интеграл` (для русского языка).
      * `python -m smart_handbook.cli.main --lang en Euler` (для английского языка).

**Выходные данные**

  * **Формат:** краткое определение/описание (строка) либо сообщение об ошибке.
  * **Пример:**
      * при успешном поиске: `"Интеграл — одно из важнейших понятий математического анализа. В простейшем случае интеграл — это аналог суммы для функции..."`;
      * при отсутствии результата: `"Определение по запросу 'несуществующий_термин' на языке 'ru' не найдено"`;
      * при сетевой ошибке: `"Ошибка сети/сервиса: не удалось подключиться к сервису. Проверьте ваше интернет-соединение"`;
      * при ошибке обработки ответа от Wikipedia: `"Ошибка обработки данных: некорректный или неожиданный формат ответа от Wikipedia: 'NoneType' object is not subscriptable"`;
      * при обработке неожиданной ошибки: `"Произошла непредвиденная ошибка: division by zero"`.

**Критерии оценки**

  * **Правильное использование `requests` и обработка ответа API:** корректно отправляет GET-запросы, обрабатывает JSON, извлекает `extract` из ответа Wikipedia. 
  * **Обработка случаев «термин не найден»:** распознаёт и корректно сообщает об отсутствии определения в ответе API.
  * **Обработка сетевых ошибок и ошибок API:** обрабатывает `ConnectionError`, `Timeout`, другие `requests.exceptions`, а также HTTP-статусы ошибок от API. 
  * **Поддержка языков:** возможность указания языка поиска (RU/EN) и корректное переключение языка запроса к API.
  * **Разделение логики:** функции работы с API полностью отделены от логики CLI. 
  * **Соответствие код-стайлу:** PEP8, аннотации типов, docstrings для всех функций и классов.

